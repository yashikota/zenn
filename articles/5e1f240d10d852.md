---
title: "WezTermã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç›´æ¥VS Codeã§é–‹ãæ–¹æ³•"
emoji: "ğŸ‘‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["wezterm"]
published: true
---

Claude Codeã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’è¡¨ç¤ºã—ã¦ãã‚ŒãŸã‚Šã™ã‚‹ã‚“ã§ã™ãŒæ¯å›ãƒ‘ã‚¹ã‚’é¸æŠ â†’ ã‚³ãƒ”ãƒ¼ â†’ VS Codeã§ Ctrl + Pã—ã¦è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§é£›ã¶ã€œ ã¨ã„ã£ãŸä½œæ¥­ã‚’ã—ã¦ã„ã¦ã‚ã‚“ã©ãã•ã„ã®ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ç›´æ¥VS Codeã§é–‹ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸã€‚  
ãªãŠ `vscode://` ã¨ã„ã†ãƒ‡ã‚£ãƒ¼ãƒ—ãƒªãƒ³ã‚¯ã‚’ä½¿ãˆã°VS Codeã§é–‹ã‘ã‚‹ã‚“ã§ã™ãŒã€ã“ã‚ŒãŒçµ¶å¯¾ãƒ‘ã‚¹ã—ã‹å—ã‘ä»˜ã‘ã¦ãã‚Œãªã„ã®ã§ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ã‹ã¾ã—ã¦ã„ã„æ„Ÿã˜ã«ãƒ‘ã‚¹ã‚’æ§‹ç¯‰ã—ã¦ã¾ã™ã€‚  

```lua
-- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’VS Codeã§é–‹ã‘ã‚‹ã‚ˆã†ã«
table.insert(config.hyperlink_rules, {
    regex = [[([\w/][\w/\.-]*\.\w+)(:\d+)?(:\d+)?]],
    format = "vscode://file$PWD/$1$2$3",
})

-- open-uri ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
-- $PWD ã‚’å®Ÿéš›ã®ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç½®æ›ã—ã¦ VS Code ã§é–‹ã
wezterm.on("open-uri", function(window, pane, uri)
    local start = uri:find("$PWD", 1, true)
    if start then
        local cwd_uri = pane:get_current_working_dir()
        if cwd_uri and cwd_uri.file_path then
            uri = uri:gsub("$PWD", cwd_uri.file_path)
            wezterm.open_with(uri)
            return false
        end
    end
end)
```

### å‚è€ƒ

https://github.com/wezterm/wezterm/discussions/4157
