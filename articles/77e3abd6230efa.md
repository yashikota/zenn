---
title: "ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å‹•ãã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’zsh/fishã«è¿½åŠ ã™ã‚‹"
emoji: "ğŸ“‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["fish", "zsh", "shell"]
published: true
---

## zsh

```sh:clip.zsh
clip() {
    local input
    if [[ $# -eq 0 ]]; then
        input=$(cat)
    else
        input=$(cat "$1")
    fi

    if [[ -n "$IS_WSL" || -n "$WSL_DISTRO_NAME" ]]; then
        echo -n "$input" | clip.exe
    elif [[ "$(uname)" = "Linux" ]]; then
        echo -n "$input" | xsel -bi
    elif [[ "$(uname)" = "Darwin" ]]; then
        echo -n "$input" | pbcopy
    fi
}
```

## fish

```sh:clip.fish
function clip
    if [ -n "$IS_WSL" ] || [ -n "$WSL_DISTRO_NAME" ]
        cat $argv[1] | clip.exe
    else if [ "$(uname)" = "Linux" ]
        cat $argv[1] | xsel -bi
    else if [ "$(uname)" = "Darwin" ]
        cat $argv[1] | pbcopy
    end
end
```

## ä½¿ç”¨ä¾‹

```sh
clip a.txt
```

ã“ã‚Œã§a.txtã®ä¸­èº«ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚  
ã‚‚ã¡ã‚ã‚“æ¨™æº–å…¥åŠ›ã‹ã‚‰ã®å…¥åŠ›ã‚‚å¯¾å¿œã—ã¦ã„ã¦

```sh
clip
```

ã§æ¨™æº–å…¥åŠ›ã‹ã‚‰å—ã‘ä»˜ã‘ã¾ã™[^2]ã€‚  

[^2]:catã®å‹•ä½œã¨ä¸€ç·’ã§ã™ã€‚  

## å‚è€ƒæ–‡çŒ®

- [How to check if a program is run in Bash on Ubuntu on Windows and not just plain Ubuntu?](https://stackoverflow.com/questions/38086185/how-to-check-if-a-program-is-run-in-bash-on-ubuntu-on-windows-and-not-just-plain)
- [WSL ã§ xsel ã¨ã‹ä½¿ã‚ãšã« ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹æ–¹æ³•](https://devlights.hatenablog.com/entry/2021/05/28/100517)
- [xselã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹](https://honmushi.com/2020/02/04/linux-xsel/)
- [ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§æ¨™æº–å‡ºåŠ›ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹](https://qiita.com/sasaplus1/items/137a70e8f51f97a6636f)
